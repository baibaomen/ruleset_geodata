# JustMySocks (JMS) ç²¾ç®€è§„åˆ™ - ShellCrash YAML æ¨¡æ¿
# 
# èŠ‚ç‚¹è¯´æ˜ï¼ˆLos Angeles å¥—é¤ï¼‰ï¼š
#   s1, s2 - CN2 GTï¼ˆæ—¥å¸¸çº¿è·¯ï¼‰
#   s3     - CN2 GIAï¼ˆç”µä¿¡ä¼˜è´¨çº¿è·¯ï¼‰
#   s4     - æ—¥æœ¬å¤§é˜ª Softbank
#   s5     - è·å…° CN2 GIA
#   s801   - Freedomï¼ˆçœæµé‡ï¼‰

proxy-groups:
  # ===== ä¸»é€‰æ‹©å™¨ =====
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - âš¡ JMSç¾å›½æœ€å¿«
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹
      - ğŸ’° çœæµé‡èŠ‚ç‚¹
      - ğŸ¯ ç›´è¿

  # ===== JMS èŠ‚ç‚¹ç»„ =====
  # æœ€å¿«èŠ‚ç‚¹ï¼šs1-s3 è‡ªåŠ¨æµ‹é€Ÿé€‰æœ€å¿«
  - name: âš¡ JMSç¾å›½æœ€å¿«
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s[123]\\."
    use:
      - jmssub

  # æœ€å¿«èŠ‚ç‚¹ï¼šJMS è‡ªåŠ¨æµ‹é€Ÿé€‰æœ€å¿«ï¼ˆå«çœæµé‡èŠ‚ç‚¹ï¼‰
  - name: âš¡ JMSå…¨çƒæœ€å¿«
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s([12345]|801)\\."
    use:
      - jmssub


  # ç¨³å®šIPï¼šs3ä¼˜å…ˆï¼ŒæŒ‚äº†ç”¨s1ï¼Œå†æŒ‚ç”¨s2ï¼ˆfallbackæ¨¡å¼ï¼‰
  - name: ğŸ”„ JMSç¾å›½ç¨³å®šIP
    type: fallback
    url: https://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - ğŸ“ s3-CN2GIA
      - ğŸ“ s1-CN2GT
      - ğŸ“ s2-CN2GT

  # å•èŠ‚ç‚¹ï¼ˆä¾›ç¨³å®šIPç»„å¼•ç”¨ï¼‰
  - name: ğŸ“ s3-CN2GIA
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s3\\."
    use:
      - jmssub

  - name: ğŸ“ s1-CN2GT
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s1\\."
    use:
      - jmssub

  - name: ğŸ“ s2-CN2GT
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s2\\."
    use:
      - jmssub

  # å…¶ä»–åœ°åŒºèŠ‚ç‚¹
  - name: ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s4\\."
    use:
      - jmssub

  - name: ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s5\\."
    use:
      - jmssub

  - name: ğŸ’° çœæµé‡èŠ‚ç‚¹
    type: select
    filter: "c78s801\\."
    use:
      - jmssub

  # ===== è§„åˆ™åˆ†æµç»„ =====
  - name: ğŸ  å†…ç½‘åœ°å€
    type: select
    proxies:
      - ğŸ¯ ç›´è¿

  - name: ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
    type: select
    proxies:
      - ğŸ¯ ç›´è¿
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - ğŸ“ s3-CN2GIA
      - ğŸ“ s1-CN2GT
      - ğŸ“ s2-CN2GT
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹
      - ğŸ’° çœæµé‡èŠ‚ç‚¹

  - name: ğŸ¤– AIå¹³å°
    type: select
    proxies:
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - ğŸ“ s3-CN2GIA
      - ğŸ“ s1-CN2GT
      - ğŸ“ s2-CN2GT
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹
      - ğŸ’° çœæµé‡èŠ‚ç‚¹
      - ğŸ¯ ç›´è¿

  - name: â›” å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - ğŸ“ s3-CN2GIA
      - ğŸ“ s1-CN2GT
      - ğŸ“ s2-CN2GT
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹
      - ğŸ’° çœæµé‡èŠ‚ç‚¹
      - ğŸ¯ ç›´è¿

  - name: ğŸ“¥ BT Tracker
    type: select
    proxies:
      - ğŸ¯ ç›´è¿
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - ğŸ“ s3-CN2GIA
      - ğŸ“ s1-CN2GT
      - ğŸ“ s2-CN2GT
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹
      - ğŸ’° çœæµé‡èŠ‚ç‚¹

  - name: ğŸŒ å›½å¤–æµé‡
    type: select
    proxies:
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - ğŸ“ s3-CN2GIA
      - ğŸ“ s1-CN2GT
      - ğŸ“ s2-CN2GT
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹
      - ğŸ’° çœæµé‡èŠ‚ç‚¹
      - ğŸ¯ ç›´è¿

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - ğŸ“ s3-CN2GIA
      - ğŸ“ s1-CN2GT
      - ğŸ“ s2-CN2GT
      - ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
      - ğŸ‡³ğŸ‡± è·å…°èŠ‚ç‚¹
      - ğŸ’° çœæµé‡èŠ‚ç‚¹
      - ğŸ¯ ç›´è¿

  - name: ğŸ¯ ç›´è¿
    type: select
    proxies:
      - DIRECT

# è§„åˆ™æä¾›è€…
rule-providers:
  # å†…ç½‘åœ°å€
  private:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/private.list
    path: ./ruleset/private.list
    interval: 86400

  privateip:
    type: http
    behavior: ipcidr
    url: https://github.com/DustinWin/geoip/releases/download/ips/privateip.list
    path: ./ruleset/privateip.list
    interval: 86400

  # å¹¿å‘Š
  ads:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/ads.list
    path: ./ruleset/ads.list
    interval: 86400

  # BT Tracker
  trackerslist:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/trackerslist.list
    path: ./ruleset/trackerslist.list
    interval: 86400

  # AI å¹³å°
  ai:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/ai.list
    path: ./ruleset/ai.list
    interval: 86400

  # å›½å†…åŸŸåï¼ˆåˆå¹¶äº† cn + microsoft-cn + apple-cn + google-cn + games-cnï¼‰
  cn:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/cn.list
    path: ./ruleset/cn.list
    interval: 86400

  microsoft-cn:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/microsoft-cn.list
    path: ./ruleset/microsoft-cn.list
    interval: 86400

  apple-cn:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/apple-cn.list
    path: ./ruleset/apple-cn.list
    interval: 86400

  google-cn:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/google-cn.list
    path: ./ruleset/google-cn.list
    interval: 86400

  # å›½å†…IP
  cnip:
    type: http
    behavior: ipcidr
    url: https://github.com/DustinWin/geoip/releases/download/ips/cnip.list
    path: ./ruleset/cnip.list
    interval: 86400

  # å›½å¤–ä»£ç†åŸŸå
  proxy:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/proxy.list
    path: ./ruleset/proxy.list
    interval: 86400

# è§„åˆ™ï¼ˆé¡ºåºå¾ˆé‡è¦ï¼Œå…ˆåŒ¹é…å…ˆç”Ÿæ•ˆï¼‰
rules:
  # 1. å†…ç½‘åœ°å€ â†’ ç›´è¿
  - RULE-SET,private,ğŸ  å†…ç½‘åœ°å€
  - RULE-SET,privateip,ğŸ  å†…ç½‘åœ°å€

  # 2. å¹¿å‘Š â†’ å¯é€‰æ‹¦æˆª
  - RULE-SET,ads,â›” å¹¿å‘Šæ‹¦æˆª

  # 3. BT Tracker â†’ ç›´è¿ä¼˜å…ˆ
  - RULE-SET,trackerslist,ğŸ“¥ BT Tracker

  # 4. AI å¹³å° â†’ ä»£ç†ä¼˜å…ˆ
  - RULE-SET,ai,ğŸ¤– AIå¹³å°

  # 5. å›½å†…æµé‡ â†’ ç›´è¿
  - RULE-SET,cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - RULE-SET,microsoft-cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - RULE-SET,apple-cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - RULE-SET,google-cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - RULE-SET,cnip,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡

  # 6. å›½å¤–æµé‡ â†’ ä»£ç†
  - RULE-SET,proxy,ğŸŒ å›½å¤–æµé‡

  # 7. å…œåº•
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
