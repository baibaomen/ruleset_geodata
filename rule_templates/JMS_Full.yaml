# JustMySocks (JMS) å®Œæ•´è§„åˆ™ - Clash/Mihomo é…ç½®
# 
# èŠ‚ç‚¹è¯´æ˜ï¼ˆLos Angeles å¥—é¤ï¼‰ï¼š
#   s1, s2 - CN2 GTï¼ˆæ—¥å¸¸çº¿è·¯ï¼‰
#   s3     - CN2 GIAï¼ˆç”µä¿¡ä¼˜è´¨çº¿è·¯ï¼‰
#   s4     - æ—¥æœ¬å¤§é˜ª Softbank
#   s5     - è·å…° CN2 GIA
#   s801   - Freedomï¼ˆçœæµé‡ï¼Œ0.1å€ç‡ï¼‰

# ===== åŸºç¡€é…ç½® =====
port: 7890
socks-port: 7891
mixed-port: 7892
allow-lan: true
mode: Rule
log-level: info
external-controller: 127.0.0.1:9090
secret: ""

# ===== DNS é…ç½® =====
dns:
  enable: true
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  nameserver:
    - 223.5.5.5
    - 119.29.29.29
  fallback: []
  fallback-filter:
    geoip: true
    geoip-code: CN

# ===== ä»£ç†æä¾›è€…ï¼ˆè®¢é˜…æºï¼‰=====
proxy-providers:
  jmssub:
    type: http
    url: "https://jmssub.net/members/getsub.php?service=1254849&id=6d82e252-2741-4e45-b092-84cc374908bd"
    path: ./providers/jmssub.yaml
    interval: 43200
    health-check:
      enable: true
      url: https://www.gstatic.com/generate_204
      interval: 300

# ===== ä»£ç†ç»„ =====
proxy-groups:
  # ===== JMS åŸå§‹èŠ‚ç‚¹ç»„ï¼ˆæŒ‰æœåŠ¡å™¨åˆ†ç»„ï¼‰=====
  - name: 1ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s1)
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s1\\."
    use:
      - jmssub

  - name: 2ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s2)
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s2\\."
    use:
      - jmssub

  - name: 3ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GIA,s3)
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s3\\."
    use:
      - jmssub

  - name: 4ï¸âƒ£ JMSæ—¥æœ¬å¤§é˜ª(Softbank,s4)
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s4\\."
    use:
      - jmssub

  - name: 5ï¸âƒ£ JMSè·å…°(CN2 GIA,s5)
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s5\\."
    use:
      - jmssub

  - name: 6ï¸âƒ£ JMS Freedom(0.1å€ç‡,s801)
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    filter: "c78s801\\."
    use:
      - jmssub

  # ===== æ™ºèƒ½èŠ‚ç‚¹ç»„ =====
  - name: âš¡ JMSç¾å›½æœ€å¿«
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies:
      - 1ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s1)
      - 2ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s2)
      - 3ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GIA,s3)

  - name: âš¡ JMSå…¨çƒæœ€å¿«
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    proxies:
      - 1ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s1)
      - 2ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s2)
      - 3ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GIA,s3)
      - 4ï¸âƒ£ JMSæ—¥æœ¬å¤§é˜ª(Softbank,s4)
      - 5ï¸âƒ£ JMSè·å…°(CN2 GIA,s5)
      - 6ï¸âƒ£ JMS Freedom(0.1å€ç‡,s801)

  - name: ğŸ”„ JMSç¾å›½ç¨³å®šIP
    type: fallback
    url: https://www.gstatic.com/generate_204
    interval: 300
    proxies:
      - 2ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s2)
      - 1ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s1)
      - 3ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GIA,s3)

  # ===== ä¸»é€‰æ‹©å™¨ =====
  - name: ğŸš€ èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - 1ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s1)
      - 2ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s2)
      - 3ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GIA,s3)
      - 4ï¸âƒ£ JMSæ—¥æœ¬å¤§é˜ª(Softbank,s4)
      - 5ï¸âƒ£ JMSè·å…°(CN2 GIA,s5)
      - 6ï¸âƒ£ JMS Freedom(0.1å€ç‡,s801)
      - ğŸ¯ ç›´è¿

  # ===== è§„åˆ™åˆ†æµç»„ =====
  - name: ğŸ  å†…ç½‘åœ°å€
    type: select
    proxies:
      - ğŸ¯ ç›´è¿

  - name: ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
    type: select
    proxies:
      - ğŸ¯ ç›´è¿
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP

  - name: ğŸ¤– AIå¹³å°
    type: select
    proxies:
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - 1ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s1)
      - 2ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GT,s2)
      - 3ï¸âƒ£ JMSæ´›æ‰çŸ¶(CN2 GIA,s3)
      - 4ï¸âƒ£ JMSæ—¥æœ¬å¤§é˜ª(Softbank,s4)
      - 5ï¸âƒ£ JMSè·å…°(CN2 GIA,s5)
      - 6ï¸âƒ£ JMS Freedom(0.1å€ç‡,s801)
      - ğŸ¯ ç›´è¿

  - name: â›” å¹¿å‘Šæ‹¦æˆª
    type: select
    proxies:
      - REJECT
      - ğŸ¯ ç›´è¿
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©

  - name: ğŸ“¥ BT Tracker
    type: select
    proxies:
      - ğŸ¯ ç›´è¿
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©

  - name: ğŸŒ å›½å¤–æµé‡
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - âš¡ JMSç¾å›½æœ€å¿«
      - âš¡ JMSå…¨çƒæœ€å¿«
      - ğŸ”„ JMSç¾å›½ç¨³å®šIP
      - ğŸ¯ ç›´è¿

  - name: ğŸŸ æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - ğŸš€ èŠ‚ç‚¹é€‰æ‹©
      - âš¡ JMSç¾å›½æœ€å¿«
      - ğŸ¯ ç›´è¿

  - name: ğŸ¯ ç›´è¿
    type: select
    proxies:
      - DIRECT

# ===== è§„åˆ™æä¾›è€… =====
rule-providers:
  private:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/private.list
    path: ./ruleset/private.list
    interval: 86400

  privateip:
    type: http
    behavior: ipcidr
    url: https://github.com/DustinWin/geoip/releases/download/ips/privateip.list
    path: ./ruleset/privateip.list
    interval: 86400

  ads:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/ads.list
    path: ./ruleset/ads.list
    interval: 86400

  trackerslist:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/trackerslist.list
    path: ./ruleset/trackerslist.list
    interval: 86400

  ai:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/ai.list
    path: ./ruleset/ai.list
    interval: 86400

  cn:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/cn.list
    path: ./ruleset/cn.list
    interval: 86400

  microsoft-cn:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/microsoft-cn.list
    path: ./ruleset/microsoft-cn.list
    interval: 86400

  apple-cn:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/apple-cn.list
    path: ./ruleset/apple-cn.list
    interval: 86400

  google-cn:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/google-cn.list
    path: ./ruleset/google-cn.list
    interval: 86400

  cnip:
    type: http
    behavior: ipcidr
    url: https://github.com/DustinWin/geoip/releases/download/ips/cnip.list
    path: ./ruleset/cnip.list
    interval: 86400

  proxy:
    type: http
    behavior: domain
    url: https://github.com/DustinWin/domain-list-custom/releases/download/domains/proxy.list
    path: ./ruleset/proxy.list
    interval: 86400

# ===== è§„åˆ™ï¼ˆé¡ºåºé‡è¦ï¼‰=====
rules:
  - RULE-SET,private,ğŸ  å†…ç½‘åœ°å€
  - RULE-SET,privateip,ğŸ  å†…ç½‘åœ°å€
  - RULE-SET,ads,â›” å¹¿å‘Šæ‹¦æˆª
  - RULE-SET,trackerslist,ğŸ“¥ BT Tracker
  - RULE-SET,ai,ğŸ¤– AIå¹³å°
  - RULE-SET,cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - RULE-SET,microsoft-cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - RULE-SET,apple-cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - RULE-SET,google-cn,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - RULE-SET,cnip,ğŸ‡¨ğŸ‡³ å›½å†…æµé‡
  - RULE-SET,proxy,ğŸŒ å›½å¤–æµé‡
  - MATCH,ğŸŸ æ¼ç½‘ä¹‹é±¼
